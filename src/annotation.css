.image-annotate-add {
  --image-annotate-icon-add: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' fill='%23fff'%3E%3Cpath d='M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z'/%3E%3C/svg%3E");
  appearance: none;
  background-color: rgba(0, 0, 0, 0.4);
  background-image: var(--image-annotate-icon-add);
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border: 1px solid rgba(255, 255, 255, 0.5);
  border-radius: 4px;
  bottom: 8px;
  color: #fff;
  cursor: pointer;
  height: 32px;
  opacity: 0;
  padding: 0;
  position: absolute;
  right: 8px;
  transition:
    opacity 0.2s,
    background-color 0.2s;
  width: 32px;
  z-index: 1;
}
.image-annotate-add:hover {
  background-color: rgba(0, 0, 0, 0.6);
}
.image-annotate-add:focus {
  opacity: 1;
  outline: 2px solid var(--image-annotate-hover-editable-color);
  outline-offset: 2px;
}
.image-annotate-canvas {
  --image-annotate-font-family: Verdana, sans-serif;
  --image-annotate-font-size: 12px;
  --image-annotate-area-border: #000;
  --image-annotate-area-inner-border: #fff;
  --image-annotate-hover-color: yellow;
  --image-annotate-hover-editable-color: #00ad00;
  --image-annotate-note-bg: #e7ffe7;
  --image-annotate-note-border: #397f39;
  --image-annotate-note-text: #000;
  --image-annotate-edit-bg: #fffee3;
  --image-annotate-edit-border: #000;
  --image-annotate-button-bg: #fff;
  --image-annotate-button-bg-hover: #eee;
  --image-annotate-button-border: #ccc;
  --image-annotate-button-text: #000;
  --image-annotate-icon-save: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' fill='%23333'%3E%3Cpath d='M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z'/%3E%3C/svg%3E");
  --image-annotate-icon-cancel: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' fill='%23333'%3E%3Cpath d='M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z'/%3E%3C/svg%3E");
  --image-annotate-icon-delete: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256' fill='%23333'%3E%3Cpath d='M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z'/%3E%3C/svg%3E");
  border: solid 1px var(--image-annotate-button-border);
  max-width: 100%;
  background-position: left top;
  background-repeat: no-repeat;
  display: block;
  margin: 0;
  position: relative;
}
.image-annotate-view {
  display: none;
  position: relative;
}
@media (hover: hover) {
  .image-annotate-canvas:hover:not(.image-annotate-editing) .image-annotate-view {
    display: block;
  }
}
@media (hover: none) {
  .image-annotate-canvas:not(.image-annotate-editing) .image-annotate-view {
    display: block;
  }
}
@media (hover: hover) {
  .image-annotate-canvas:hover:not(.image-annotate-editing) .image-annotate-add {
    opacity: 1;
  }
}
@media (hover: none) {
  .image-annotate-canvas:not(.image-annotate-editing) .image-annotate-add {
    opacity: 1;
  }
}
.image-annotate-editing .image-annotate-add {
  display: none;
}
.image-annotate-area {
  border: 1px solid var(--image-annotate-area-border);
  position: absolute;
}
.image-annotate-area div {
  border: 1px solid var(--image-annotate-area-inner-border);
  box-sizing: border-box;
  display: block;
}
.image-annotate-area-hover div {
  border-color: var(--image-annotate-hover-color);
}
.image-annotate-area-editable {
  cursor: pointer;
}
.image-annotate-area-editable-hover div {
  border-color: var(--image-annotate-hover-editable-color);
}
.image-annotate-note {
  background-color: var(--image-annotate-note-bg);
  border: solid 1px var(--image-annotate-note-border);
  color: var(--image-annotate-note-text);
  display: none;
  font-family: var(--image-annotate-font-family);
  font-size: var(--image-annotate-font-size);
  left: -1px;
  max-width: 200px;
  padding: 3px 7px;
  position: absolute;
  top: calc(100% + 7px);
}
.image-annotate-note .actions {
  display: block;
  font-size: 80%;
}
.image-annotate-edit {
  display: none;
}
.image-annotate-edit-form {
  background-color: var(--image-annotate-edit-bg);
  border: 1px solid var(--image-annotate-edit-border);
  box-sizing: border-box;
  cursor: default;
  display: flex;
  flex-direction: column;
  gap: 7px;
  left: -1px;
  min-width: 250px;
  padding: 7px;
  position: absolute;
  top: calc(100% + 7px);
  width: max-content;
}
.image-annotate-edit-form form {
  margin: 0;
  padding: 0;
}
.image-annotate-edit-form textarea {
  box-sizing: border-box;
  font-family: var(--image-annotate-font-family);
  font-size: var(--image-annotate-font-size);
  height: 50px;
  width: 100%;
}
.image-annotate-edit-buttons {
  display: flex;
  flex-wrap: nowrap;
  gap: 6px;
}
.image-annotate-edit-form button {
  appearance: none;
  background-color: var(--image-annotate-button-bg);
  background-repeat: no-repeat;
  background-position: 3px center;
  background-size: 16px 16px;
  border: solid 1px var(--image-annotate-button-border);
  color: var(--image-annotate-button-text);
  cursor: pointer;
  font-family: var(--image-annotate-font-family);
  font-size: var(--image-annotate-font-size);
  line-height: 18px;
  min-height: 22px;
  padding: 2px 6px 2px 24px;
  white-space: nowrap;
}
.image-annotate-edit-form button:empty {
  background-position: center;
  min-width: 24px;
  padding: 2px 4px;
}
.image-annotate-edit-form button:hover {
  background-color: var(--image-annotate-button-bg-hover);
}
.image-annotate-edit-area {
  border: 1px solid var(--image-annotate-area-border);
  cursor: move;
  display: block;
  height: 60px;
  left: 10px;
  margin: 0;
  padding: 0;
  position: absolute;
  top: 10px;
  width: 60px;
}
.image-annotate-resize-handle {
  background-color: var(--image-annotate-area-border);
  border: 1px solid var(--image-annotate-area-inner-border);
  box-sizing: border-box;
  height: 8px;
  position: absolute;
  width: 8px;
}
.image-annotate-resize-handle-nw {
  cursor: nw-resize;
  left: -4px;
  top: -4px;
}
.image-annotate-resize-handle-ne {
  cursor: ne-resize;
  right: -4px;
  top: -4px;
}
.image-annotate-resize-handle-sw {
  cursor: sw-resize;
  left: -4px;
  bottom: -4px;
}
.image-annotate-resize-handle-se {
  cursor: se-resize;
  right: -4px;
  bottom: -4px;
}
.image-annotate-edit-ok {
  background-image: var(--image-annotate-icon-save);
}
.image-annotate-edit-delete {
  background-image: var(--image-annotate-icon-delete);
}
.image-annotate-edit-close {
  background-image: var(--image-annotate-icon-cancel);
}
.image-annotate-area-editable:focus {
  outline: 2px solid var(--image-annotate-hover-editable-color);
  outline-offset: 2px;
}
.image-annotate-edit-form button:focus {
  outline: 2px solid var(--image-annotate-hover-editable-color);
  outline-offset: 1px;
}
